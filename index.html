<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<title>SMB | Dashboard</title>

<link rel="icon" type="image/png" sizes="192x192" href="https://i.postimg.cc/QNkbRTbS/1.png">
<link rel="shortcut icon" href="https://i.postimg.cc/QNkbRTbS/1.png">

<script src="https://accounts.google.com/gsi/client" async defer></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
--primary:#1f2937;
--accent:#dc143c;
--bg:#f0f2f5;
--white:#ffffff;
--text-dark:#1f2937;
--text-muted:#6b7280;
--transition:all .3s cubic-bezier(.4,0,.2,1);
}

*{box-sizing:border-box;}

body{
margin:0;
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:var(--bg);
font-family:'Inter','Segoe UI',system-ui,sans-serif;
padding:20px;
color:var(--text-dark);
}

.container{
display:flex;
flex-direction:column;
align-items:center;
gap:25px;
width:100%;
max-width:900px;
animation:fadeIn .6s ease;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;transform:translateY(0);}
}

/* AUTH */
#login,#user-info,#access-denied{
background:var(--white);
padding:25px;
border-radius:24px;
box-shadow:0 15px 35px rgba(0,0,0,.05);
text-align:center;
width:100%;
max-width:400px;
}

#user-info{
display:flex;
align-items:center;
gap:15px;
text-align:left;
padding:12px 20px;
}

#user-info img{
border-radius:50%;
width:45px;
height:45px;
border:2px solid var(--accent);
}

#logout-btn{
background:#f1f5f9;
border:none;
width:35px;
height:35px;
border-radius:10px;
cursor:pointer;
transition:var(--transition);
}

#logout-btn:hover{
background:var(--accent);
color:white;
}

/* CARDS */
.top-buttons{
display:flex;
gap:20px;
width:100%;
}

.top-card{
flex:1;
background:var(--white);
border-radius:20px;
overflow:hidden;
box-shadow:0 10px 25px rgba(0,0,0,.03);
transition:var(--transition);
display:flex;
flex-direction:column;
aspect-ratio:1/1;
cursor:pointer;
}

.top-card:hover{
transform:translateY(-5px);
box-shadow:0 15px 30px rgba(0,0,0,.08);
}

.top-card .action-btn{
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
gap:10px;
height:100%;
border:none;
background:transparent;
cursor:pointer;
}

.top-card i{
font-size:32px;
color:var(--text-muted);
transition:var(--transition);
}

.top-card span{
font-weight:800;
font-size:14px;
}

.top-card:hover i{
color:var(--accent);
}

/* GRID */
.action-grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:20px;
width:100%;
margin-top:20px;
}

.action-card{
background:var(--white);
border-radius:20px;
overflow:hidden;
box-shadow:0 10px 25px rgba(0,0,0,.03);
transition:var(--transition);
display:flex;
flex-direction:column;
}

.action-btn{
width:100%;
aspect-ratio:1/1;
border:none;
background:transparent;
cursor:pointer;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
gap:10px;
}

.action-card:hover{
transform:translateY(-5px);
box-shadow:0 15px 30px rgba(0,0,0,.08);
}

.action-card i{
font-size:32px;
color:var(--text-muted);
transition:var(--transition);
}

.action-card:hover i{
color:var(--accent);
}

/* IFRAME FULLSCREEN */
.iframe-overlay{
position:fixed;
inset:0;
background:var(--bg);
z-index:9999;
display:flex;
flex-direction:column;
opacity:0;
pointer-events:none;
transition:opacity .3s ease;
}

.iframe-overlay.active{
opacity:1;
pointer-events:all;
}

.iframe-topbar{
height:60px;
background:var(--white);
display:flex;
align-items:center;
justify-content:space-between;
padding:0 20px;
box-shadow:0 5px 20px rgba(0,0,0,.05);
}

.iframe-close{
background:var(--primary);
color:white;
border:none;
padding:8px 16px;
border-radius:12px;
cursor:pointer;
transition:var(--transition);
font-weight:600;
}

.iframe-close:hover{
background:var(--accent);
}

.iframe-container{
flex:1;
overflow:hidden;
}

.iframe-container iframe{
width:100%;
height:100%;
border:none;
background:white;
}
</style>
</head>

<body>

<div class="container">

<div id="login">
<h2>SMB Login</h2>
<div id="g_id_onload"
data-client_id="328749588235-bgfeukqogpoq2ha65j7j0vk840hctiaq.apps.googleusercontent.com"
data-callback="handleCredentialResponse"
data-auto_prompt="false"></div>
<div class="g_id_signin" data-type="standard" data-shape="pill"></div>
</div>

<div id="user-info" style="display:none;">
<img id="user-pic">
<div>
<p id="user-name"></p>
<p id="user-email" style="font-size:12px;color:var(--text-muted);"></p>
</div>
<button id="logout-btn" onclick="signOut()">
<i class="fas fa-sign-out-alt"></i>
</button>
</div>

<div class="main-content" id="main-content" style="display:none;width:100%;">

<div class="top-buttons">
<div class="top-card" onclick="openIframe('https://smart-bowling.github.io/MANUALS-SMART/','MANUALS')">
<button class="action-btn">
<i class="fas fa-book"></i>
<span>MANUALS</span>
</button>
</div>

<div class="top-card" onclick="openIframe('https://smart-bowling.github.io/PARTS-STORE/','STORE')">
<button class="action-btn">
<i class="fas fa-shopping-cart"></i>
<span>STORE</span>
</button>
</div>
</div>

</div>
</div>

<!-- FULLSCREEN IFRAME -->
<div class="iframe-overlay" id="iframeOverlay">
<div class="iframe-topbar">
<div id="iframeTitle">Loading...</div>
<button class="iframe-close" onclick="closeIframe()">Back</button>
</div>
<div class="iframe-container">
<iframe id="mainIframe"></iframe>
</div>
</div>

<script>
function openIframe(url,title){
const overlay=document.getElementById('iframeOverlay');
const frame=document.getElementById('mainIframe');
document.getElementById('iframeTitle').textContent=title;
frame.src=url;
overlay.classList.add('active');
document.body.style.overflow='hidden';
}

function closeIframe(){
const overlay=document.getElementById('iframeOverlay');
const frame=document.getElementById('mainIframe');
overlay.classList.remove('active');
frame.src='';
document.body.style.overflow='';
}

function handleCredentialResponse(response){
const payload=JSON.parse(atob(response.credential.split('.')[1]));
loginUser(payload);
}

function loginUser(payload){
document.getElementById('login').style.display='none';
document.getElementById('user-info').style.display='flex';
document.getElementById('main-content').style.display='block';
document.getElementById('user-name').textContent=payload.name;
document.getElementById('user-email').textContent=payload.email;
document.getElementById('user-pic').src=payload.picture;
localStorage.setItem('userLoggedIn','true');
localStorage.setItem('userName',payload.name);
localStorage.setItem('userEmail',payload.email);
localStorage.setItem('userPic',payload.picture);
}

function signOut(){
localStorage.clear();
location.reload();
}

window.onload=()=>{
if(localStorage.getItem('userLoggedIn')==='true'){
loginUser({
name:localStorage.getItem('userName'),
email:localStorage.getItem('userEmail'),
picture:localStorage.getItem('userPic')
});
}
}
</script>

</body>
</html>
